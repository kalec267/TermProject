<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Home</title>
        <!-- 폰트어썸 키트 키(아이콘 가져와서 사용하기) -->
        <script src="https://kit.fontawesome.com/1031601f06.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/pages/main.css">
        <link rel="stylesheet" href="css/components/footer.css">
    </head>

    <body>
        <div id="header"></div>

        <main class="main">
            <!-- 배너 영역 -->
            <section class="main_slider">
                <h2 class="main_slider-title">MINHAN's SHOP</h2>
                <span class="main_slider-btn">
                    <i class="fa-solid fa-chevron-left fa-xl"></i>
                </span>
                <div class="main_slider-container">
                    <span class="main_slider-text">STYLE IN EVERY DAY</span>
                    <div class="main_slider-image-container">

                        <img id="main-slider-img" class="main_slider-image" alt="main slider image">

                    </div>
                    <span class="main_slider-text">FOR WINTER SET-UP</span>
                </div>
                <span class="main_slider-btn">
                    <i class="fa-solid fa-chevron-right fa-xl"></i>
                </span>
            </section>
            <!-- 슬라이더 진행도 -->
            <!-- <div class="main_progress-bar"> <div class="main_progress-bar-item
            main_progress-bar-item--visible"></div> <div
            class="main_progress-bar-item"></div> <div class="main_progress-bar-item"></div>
            </div> -->

            <!-- 메인 컨텐츠 영역 -->
            <section class="main_introduction">
                <div class="main_intro-container-img">
                    <img class="main_intro-image" src="img/open.png" alt="">
                    <div class="main_intro-text-container">
                        <h2 class="main_intro-title">[WINTER OPEN]
                        </h2>
                        <span class="main_intro-description">따뜻한 컬러로 완성하는 겨울 감성 스타일</span>
                    </div>
                </div>
                <div class="main_intro-container-img">
                    <img class="main_intro-image" src="img/스웨터.png" alt="">
                    <div class="main_intro-text-container">
                        <h2 class="main_intro-title">Sweater</h2>
                        <span class="main_intro-description">포근함이 필요한 계절, 따뜻한 스웨터로 분위기를 입어요.</span>
                    </div>
                </div>
                <div class="main_intro-container ">
                    <h2 class="main_intro-title main_intro-title--black">Term Project</h2>
                </div>
                <div class="main_intro-container-img">
                    <img class="main_intro-image" src="img/바지.png" alt="">
                    <div class="main_intro-text-container">
                        <h2 class="main_intro-title">Pants</h2>
                        <span class="main_intro-description">어떤 톤에도 잘 어울리는, 데일리 크림 컬러 팬츠</span>
                    </div>
                </div>

            </section>

            <section class="main_month-best">

                <h3 class="main_best-title">Best of the month</h3>
                <span class="main_best-sub-title">이달의 베스트 상품</span>

                <div class="main_best-sub-container">
                    <article class="main_best-article">
                        <div class="main_article-img-container">
                            <img src="img/후드티.png">
                        </div>
                        <div class="main_article-container">
                            <div class="main_article_color-item main_article_color-item01"></div>
                            <div class="main_article_color-item main_article_color-item02"></div>
                            <div class="main_article_color-item main_article_color-item03"></div>
                        </div>
                        <div class="main_article-container">
                            <h2 class="main_article-product-name">스탠다드 후드 티셔츠</h2>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-product-description">#데일리 아이템</span>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-total-price">34,200원 &nbsp;
                            </span>
                            <!-- 요소를 부가적으로 설명 해줄 때 small 태그 사용 -->
                            <small class="main_article-previous-price">57,000&nbsp;
                            </small>
                            <span class="main_article-discount-rate">
                                40%</span>
                        </div>
                    </article>
                    <article class="main_best-article">
                        <div class="main_article-img-container">
                            <img src="img/코트.jpg">
                        </div>
                        <div class="main_article-container">
                            <div class="main_article_color-item main_article_color-item01"></div>
                            <div class="main_article_color-item main_article_color-item02"></div>
                            <div class="main_article_color-item main_article_color-item03"></div>
                            <div class="main_article_color-item main_article_color-item04"></div>
                            <div class="main_article_color-item main_article_color-item05"></div>
                            <div class="main_article_color-item main_article_color-item06"></div>
                        </div>
                        <div class="main_article-container">
                            <h2 class="main_article-product-name">캐시미어 코트</h2>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-product-description">#캐시미어 #코트</span>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-total-price">299,000원&nbsp;</span>
                            <!-- 요소를 부가적으로 설명 해줄 때 small 태그 사용 -->
                            <small class="main_article-previous-price">&nbsp;</small>
                            <span class="main_article-discount-rate"></span>
                        </div>
                    </article>

                    <article class="main_best-article">
                        <div class="main_article-img-container">
                            <img src="img/가디건.png">
                        </div>
                        <div class="main_article-container">
                            <div class="main_article_color-item badge"></div>
                        </div>
                        <div class="main_article-container">
                            <h2 class="main_article-product-name">베이지 가디건</h2>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-product-description">#가을 #따뜻한</span>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-total-price">63,200&nbsp;</span>
                            <!-- 요소를 부가적으로 설명 해줄 때 small 태그 사용 -->
                            <small class="main_article-previous-price">79,000원&nbsp;</small>
                            <span class="main_article-discount-rate">20%</span>
                        </div>
                    </article>

                    <article class="main_best-article">
                        <div class="main_article-img-container">
                            <img src="img/트렌치코트화보.png">
                        </div>
                        <div class="main_article-container">
                            <div class="main_article_color-item badge"></div>
                        </div>
                        <div class="main_article-container">
                            <h2 class="main_article-product-name">트랜치 코드</h2>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-product-description">#가을남자</span>
                        </div>
                        <div class="main_article-container">
                            <span class="main_article-total-price">134,100원&nbsp;</span>
                            <!-- 요소를 부가적으로 설명 해줄 때 small 태그 사용 -->
                            <small class="main_article-previous-price">149,000&nbsp;</small>
                            <span class="main_article-discount-rate">10%</span>
                        </div>
                    </article>

                </div>
            </section>
        </main>

        <footer id="mainFooter"></footer>
        <div id="footer"></div>

        <script src="js/signUp.js"></script>
        <script src="js/check-login.js"></script>
        <script src="js/header.js"></script>

        <script>
            // header.html 파일을 불러와 삽입 header.html 불러오기
            fetch('header.html')
                .then(res => res.text())
                .then(data => {
                    document
                        .getElementById('header')
                        .innerHTML = data;

                    // header.html이 DOM에 추가된 다음 header.js 로드
                    const script = document.createElement('script');
                    script.src = 'js/header.js';
                    document
                        .body
                        .appendChild(script);
                })
                .catch(err => console.error('헤더 로드 오류:', err));

            // loadFooter.js
            async function loadComponent(url, targetId) {
                try {
                    const response = await fetch(url);
                    // HTML 텍스트를 가져옵니다.
                    const html = await response.text();

                    // 지정된 ID를 가진 요소의 내부에 HTML을 삽입합니다.
                    document
                        .getElementById(targetId)
                        .innerHTML = html;
                } catch (error) {
                    console.error('Error loading component:', error);
                }
            }

            // 페이지가 로드된 후 실행
            document.addEventListener('DOMContentLoaded', () => {
                // 'footer.html' 파일의 내용을 'mainFooter' ID를 가진 <main> 요소에 삽입
                loadComponent('footer.html', 'mainFooter');
            });
        </script>

        <script>
            async function loadMainSliderImage() {
                try {
                    const res = await fetch('/api/bannerimg/latest');
                    const latestImage = await res.json();

                    if (latestImage && latestImage.imageUrl) {
                        document
                            .getElementById('main-slider-img')
                            .src = latestImage.imageUrl;
                    }
                } catch (err) {
                    console.error("슬라이더 이미지 로드 실패:", err);
                }
            }

            loadMainSliderImage();
        </script>

    </body>

</html>